<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <script src="closest.js"></script>
</head>

<body>
  <ul>
    <li class="chapter">Глава I
      <ul>
        <li class="subchapter">Глава <span class="num">1.1</span></li>
        <li class="subchapter">Глава <span class="num">1.2</span></li>
      </ul>
    </li>
  </ul>

  <script>
  "use strict";
  
  Element.prototype.closestPoli = window.closestPoli;
    
  let numberSpan = document.querySelector('.num');

  // ближайший элемент сверху подходящий под селектор li
  console.log(numberSpan.closestPoli('li').className) // subchapter

  // ближайший элемент сверху подходящий под селектор .chapter
  console.log(numberSpan.closestPoli('.chapter').tagName) // LI
  
  // ближайший элемент сверху, подходящий под селектор span
  // это сам numberSpan, так как поиск включает в себя сам элемент
  console.log(numberSpan.closest('span') === numberSpan) // true
  </script>

</body>

</html>