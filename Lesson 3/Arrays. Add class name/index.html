<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <script src="https://js.cx/test/libs.js"></script>
  <script src="test.js"></script>
</head>
<body>

  <script>
  "use strict";
  
  /**
   * Adds class to given object key
   * @param {object, string} obj with className to change & string to insert into obj className
   * @return {string} new className property
  */
  function addClass(obj, cls) {
    let clsName = obj.className,
        classArr = [],
        isAbsent = true;
        
    //уберем лишние пробелы у cls, если есть
    while (cls.indexOf(' ') != -1) {
      if (cls.indexOf(' ') == 0) {
        cls = cls.slice(1);
      } else if (cls.lastIndexOf(' ') == (cls.length - 1)) {
        cls = cls.slice(0, -1);
      };
    };
    
    //проверка obj.className:
    //1. пустая строка
    //2. один элемент
    //3. обычная строка
    if (clsName.length == 0) {
      classArr[0] = cls;
    } else if (clsName.indexOf(' ') == -1) {
      classArr[0] = clsName;
    } else {
      classArr = clsName.split(' ');
    };
    
    for (let i = 0; i < classArr.length; i++) {
      if (classArr[i] == cls) isAbsent = false;
    }
    
    if (isAbsent) classArr.push(cls);
    
    return obj.className = classArr.join(' ');
  }

  </script>

</body>
</html>